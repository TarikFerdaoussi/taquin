(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{AT9q:function(t,i,e){"use strict";e.r(i),e.d(i,"TaquinModule",(function(){return h}));var n=e("fXoL"),r=e("ofXK"),s=e("tyNb");function c(t,i){if(1&t&&(n.Vb(0,"span"),n.lc(1),n.Ub()),2&t){const t=n.dc().$implicit;n.Jb(1),n.mc(t.value)}}const o=function(t,i){return{item:t,special:i}};function l(t,i){if(1&t){const t=n.Wb();n.Vb(0,"div",4),n.bc("click",(function(){n.hc(t);const e=i.$implicit;return n.dc().clickOnNumber(e)})),n.kc(1,c,2,1,"span",5),n.Ub()}if(2&t){const t=i.$implicit;n.ec("ngClass",n.fc(2,o,0!==t.value,0===t.value)),n.Jb(1),n.ec("ngIf",0!==t.value)}}let a=(()=>{class t{constructor(t,i){this.route=t,this.router=i,this.count=0}ngOnInit(){this.initGrid()}initGrid(){this.count=0,this.gridSize=16;const t=[],i=this.gridSize/4;for(let o=0;o<this.gridSize;o++)t.push({x:o%i,y:Math.floor(o/i),value:o});this.grid=this.shuffle(t);let e=0;const n=this.grid.findIndex(t=>0===t.value),r=Math.abs(this.grid[n].y-4);for(var s=0;s<this.grid.length;s++)for(var c=s+1;c<this.grid.length;c++)this.grid[s].value>this.grid[c].value&&0!==this.grid[s].value&&0!==this.grid[c].value&&e++;(r+e)%2==0?this.initGrid():console.log(r,e)}clickOnNumber(t){if(t.value){const i=this.grid.findIndex(t=>0===t.value),e=this.grid.findIndex(i=>i.value===t.value);if(((t.x===this.grid[i].x+1||t.x===this.grid[i].x-1)&&t.y===this.grid[i].y||(t.y===this.grid[i].y+1||t.y===this.grid[i].y-1)&&t.x===this.grid[i].x)&&(this.swapValues(i,e),this.count++,3===this.grid[e].x&&3===this.grid[e].y)){let t=!0;for(let i=1;i<this.grid.length-1;i++)if(this.grid[i].value!==this.grid[i-1].value+1){t=!1;break}t&&this.router.navigate(["win",this.count],{relativeTo:this.route})}}}swapValues(t,i){let e=this.grid[i].value;this.grid[i].value=this.grid[t].value,this.grid[t].value=e}shuffle(t){for(let i=t.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));let n=t[i].value;t[i].value=t[e].value,t[e].value=n}return t}}return t.\u0275fac=function(i){return new(i||t)(n.Sb(s.a),n.Sb(s.b))},t.\u0275cmp=n.Mb({type:t,selectors:[["app-taquin-grid"]],decls:7,vars:2,consts:[[1,"grid"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"score"],[3,"click"],[3,"ngClass","click"],[4,"ngIf"]],template:function(t,i){1&t&&(n.Vb(0,"div",0),n.kc(1,l,2,5,"div",1),n.Ub(),n.Vb(2,"div",2),n.Vb(3,"div"),n.lc(4),n.Ub(),n.Vb(5,"button",3),n.bc("click",(function(){return i.initGrid()})),n.lc(6,"Rejouer"),n.Ub(),n.Ub()),2&t&&(n.Jb(1),n.ec("ngForOf",i.grid),n.Jb(3),n.nc("Moves : ",i.count,""))},directives:[r.i,r.h,r.j],styles:[".grid[_ngcontent-%COMP%]{position:relative;width:400px;flex-wrap:wrap;display:flex;height:400px;margin:auto}.item[_ngcontent-%COMP%]{background:gold}.item[_ngcontent-%COMP%], .special[_ngcontent-%COMP%]{width:90px;height:90px;margin:5px;text-align:center;line-height:100px;font-size:24px;color:#1e1f29;cursor:pointer}.special[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.13333333333333333)}.score[_ngcontent-%COMP%]{position:relative;width:400px;height:400px;text-align:center;margin:auto}"]}),t})();var u=e("eIep");const d=[{path:"",component:a},{path:"win/:moves",component:(()=>{class t{constructor(t){this.route=t,this.score=0}ngOnInit(){this.route.paramMap.pipe(Object(u.a)(t=>this.score=t.id))}}return t.\u0275fac=function(i){return new(i||t)(n.Sb(s.a))},t.\u0275cmp=n.Mb({type:t,selectors:[["app-taquin-win"]],decls:7,vars:1,consts:[[1,"grid"],[1,"text","big"],[1,"text","small"],["routerLink","/taquin"]],template:function(t,i){1&t&&(n.Vb(0,"div",0),n.Vb(1,"div",1),n.lc(2,"You win ! "),n.Ub(),n.Vb(3,"div",2),n.lc(4),n.Ub(),n.Vb(5,"button",3),n.lc(6,"Replay"),n.Ub(),n.Ub()),2&t&&(n.Jb(4),n.nc(" Your score is : ",i.score,""))},directives:[s.c],styles:[".grid[_ngcontent-%COMP%]{position:relative;width:400px;flex-wrap:wrap;display:flex;flex-direction:column;height:400px;margin:auto}.text[_ngcontent-%COMP%]{color:green;text-align:center;margin:20px}.big[_ngcontent-%COMP%]{font-size:72px}.small[_ngcontent-%COMP%]{font-size:50px}"]}),t})()}];let g=(()=>{class t{}return t.\u0275mod=n.Qb({type:t}),t.\u0275inj=n.Pb({factory:function(i){return new(i||t)},imports:[[s.d.forChild(d)],s.d]}),t})(),h=(()=>{class t{}return t.\u0275mod=n.Qb({type:t}),t.\u0275inj=n.Pb({factory:function(i){return new(i||t)},imports:[[r.b,g]]}),t})()}}]);